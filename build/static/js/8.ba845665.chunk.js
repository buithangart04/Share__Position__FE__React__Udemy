(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[8],{48:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return d}));var n=a(17);var i="REQUIRE",r="MINLENGTH",c="MAXLENGTH",l="EMAIL",s=function(){return{type:i}},u=function(e){return{type:r,val:e}},o=function(){return{type:l}},d=function(e,t){var a,s=!0,u=function(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n.a)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,c=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw c}}}}(t);try{for(u.s();!(a=u.n()).done;){var o=a.value;o.type===i&&(s=s&&e.trim().length>0),o.type===r&&(s=s&&e.trim().length>=o.val),o.type===c&&(s=s&&e.trim().length<=o.val),"MIN"===o.type&&(s=s&&+e>=o.val),"MAX"===o.type&&(s=s&&+e<=o.val),o.type===l&&(s=s&&/^\S+@\S+\.\S+$/.test(e))}}catch(d){u.e(d)}finally{u.f()}return s}},55:function(e,t,a){"use strict";var n=a(11),i=a(46),r=a(0),c=a(48),l=(a(56),a(1)),s=function(e,t){switch(t.type){case"CHANGE":return Object(i.a)(Object(i.a)({},e),{},{isValid:Object(c.d)(t.val,t.validators),value:t.val});case"TOUCH":return Object(i.a)(Object(i.a)({},e),{},{isTouched:!0});default:return e}};t.a=function(e){var t=Object(r.useReducer)(s,{isValid:e.initialValid||!1,value:e.initialValue||"",isTouched:!1}),a=Object(n.a)(t,2),i=a[0],c=a[1],u=e.id,o=e.onInput,d=i.isValid,p=i.value;Object(r.useEffect)((function(){o(u,p,d)}),[u,p,d,o]);var f=function(t){c({val:t.target.value,type:"CHANGE",validators:e.validators})},b=function(){c({type:"TOUCH"})},v="input"===e.element?Object(l.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,value:i.value,onBlur:b,onChange:f}):Object(l.jsx)("textarea",{id:e.id,rows:e.row||3,value:i.value,onBlur:b,onChange:f});return Object(l.jsxs)("div",{className:"form-control ".concat(!i.isValid&&i.isTouched&&"form-control--invalid"),children:[Object(l.jsx)("label",{htmlFor:e.id,children:e.label}),v,!i.isValid&&Object(l.jsx)("p",{children:e.errorText})]})}},56:function(e,t,a){},57:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(11),i=a(58),r=a(46),c=a(0),l=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)e.inputs[n]&&(a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid);return Object(r.a)(Object(r.a)({},e),{},{inputs:Object(r.a)(Object(r.a)({},e.inputs),{},Object(i.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return Object(r.a)(Object(r.a)({},e),{},{inputs:t.inputs,isValid:t.formIsValid});default:return e}},s=function(e,t){var a=Object(c.useReducer)(l,{inputs:e,isValid:t}),i=Object(n.a)(a,2),r=i[0],s=i[1];return[r,Object(c.useCallback)((function(e,t,a){s({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(c.useCallback)((function(e,t){s({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},61:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(49),i=a.n(n),r=a(50),c=a(11),l=a(0),s=a.n(l),u=a(2),o=a(55),d=a(47),p=a(52),f=a(16),b=a(57),v=(a(61),a(48)),j=a(53),O=a(12),h=a(1);t.default=function(){var e=Object(u.g)(),t=Object(l.useContext)(O.a),a=Object(j.a)(),n=a.isLoading,y=a.error,m=a.sendRequest,x=a.clearError,V=Object(l.useState)(),T=Object(c.a)(V,2),I=T[0],A=T[1],C=Object(b.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1}},!1),E=Object(c.a)(C,3),N=E[0],w=E[1],g=E[2],S=Object(u.h)().placeId;if(Object(l.useEffect)((function(){(function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat("https://acad-mern-pj.herokuapp.com/api","/places/").concat(S));case 3:t=e.sent,A(t.place),g({title:{value:t.place.title,isValid:!1},description:{value:t.place.description,isValid:!0},address:{value:t.place.address,isValid:!0}},!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[m,S,g]),n)return Object(h.jsx)("div",{className:"center",children:Object(h.jsx)(f.a,{})});if(!I)return Object(h.jsx)("div",{className:"center",children:Object(h.jsx)("h2",{children:"Could not find place!"})});var k=function(){var a=Object(r.a)(i.a.mark((function a(n){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,m("".concat("https://acad-mern-pj.herokuapp.com/api","/places/").concat(S),"PATCH",JSON.stringify({title:N.inputs.title.value,description:N.inputs.description.value,address:N.inputs.address.value}),{"Content-Type":"application/json",Authorization:"Bearer "+t.token});case 4:e.push("/"+t.userId+"/places"),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(1);case 9:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}();return Object(h.jsxs)(s.a.Fragment,{children:[Object(h.jsx)(p.a,{error:y,onClear:x}),!n&&I&&Object(h.jsxs)("form",{className:"place-form",onSubmit:k,children:[Object(h.jsx)(o.a,{id:"title",element:"input",type:"text",label:"Title",errorText:"Please enter a valid title",validators:[Object(v.c)()],onInput:w,initialValid:!0,initialValue:I.title}),Object(h.jsx)(o.a,{id:"address",element:"input",type:"text",label:"Address",errorText:"Please enter a valid address",validators:[Object(v.c)()],onInput:w,initialValid:!0,initialValue:I.address}),Object(h.jsx)(o.a,{id:"description",element:"textarea",label:"Description",errorText:"Please enter a valid description (at least 5 characters).",validators:[Object(v.c)(),Object(v.b)(5)],onInput:w,initialValid:!0,initialValue:I.description}),Object(h.jsx)(d.a,{type:"submit",disabled:!N.isValid,children:"ADD PLACE"})]})]})}}}]);
//# sourceMappingURL=8.ba845665.chunk.js.map